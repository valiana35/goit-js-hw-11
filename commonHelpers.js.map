{"version":3,"file":"commonHelpers.js","sources":["../src/js/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.form-input');\nconst btn = document.querySelector('.btn');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.span');\n\nconst searchParams = new URLSearchParams({\n    key: \"42127236-8bfdbbfbeed8a2dadaca720e8\",\n    q: `${encodeURIComponent(input.value)}`,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n});\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    loader.classList.add(\"loader\");\n    gallery.innerHTML = \"\";\n    fetchImages(searchParams)\n    .then((data) => renderImages(data))\n    .catch((error) => console.log(error))\n    .finally(() => loader.remove());\n    form.reset();\n});\n\nfunction fetchImages(searchParams) {\n    const url = `https://pixabay.com/api/?${searchParams}`;\n    return fetch(url)\n    .then((response) => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    })\n    .then((data) => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            })\n        } else {\n            renderImages(data);\n        }\n    })\n}\nfunction renderImages(data) {\n    const markup = data.hits.map(data => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${data.largeImageURL}\">\n            <img \n                class=\"gallery-image\"\n                src=\"${data.webformatURL}\" \n                alt=\"${data.tags}\"\n            />\n        </a>\n        <div class=\"description\">\n        <p><b>Likes: </b>${data.likes}</p>\n        <p><b>Views: </b>${data.views}</p>\n        <p><b>Comments: </b>${data.comments}</p>\n        <p><b>Downloads: </b>${data.downloads}</p>\n        </div>\n        </li>`;\n    })\n    .join(\"\");\n    gallery.innerHTML = markup;\n    let lightbox = new SimpleLightbox('.gallery a', options);\n    lightbox.on('show.simplelightbox');\n\tlightbox.refresh();\n}\nconst options = {\n    captionDelay: 250,\n};"],"names":["form","input","gallery","loader","searchParams","event","fetchImages","data","renderImages","error","url","response","iziToast","markup","lightbox","SimpleLightbox","options"],"mappings":"6vBAQA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EACtC,SAAS,cAAc,MAAM,EACzC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,OAAO,EAEvCC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GAAG,mBAAmBH,EAAM,KAAK,CAAC,GACrC,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAEDD,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EACpBF,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAY,GACpBI,EAAYF,CAAY,EACvB,KAAMG,GAASC,EAAaD,CAAI,CAAC,EACjC,MAAOE,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAMN,EAAO,OAAM,CAAE,EAC9BH,EAAK,MAAK,CACd,CAAC,EAED,SAASM,EAAYF,EAAc,CAC/B,MAAMM,EAAM,4BAA4BN,CAAY,GACpD,OAAO,MAAMM,CAAG,EACf,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,EACA,KAAMJ,GAAS,CACRA,EAAK,KAAK,SAAW,EACrBK,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACzB,CAAa,EAEDJ,EAAaD,CAAI,CAE7B,CAAK,CACL,CACA,SAASC,EAAaD,EAAM,CACxB,MAAMM,EAASN,EAAK,KAAK,IAAIA,GAClB;AAAA,wCACyBA,EAAK,aAAa;AAAA;AAAA;AAAA,uBAGnCA,EAAK,YAAY;AAAA,uBACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA,2BAILA,EAAK,KAAK;AAAA,2BACVA,EAAK,KAAK;AAAA,8BACPA,EAAK,QAAQ;AAAA,+BACZA,EAAK,SAAS;AAAA;AAAA,cAGxC,EACA,KAAK,EAAE,EACRL,EAAQ,UAAYW,EACpB,IAAIC,EAAW,IAAIC,EAAe,aAAcC,CAAO,EACvDF,EAAS,GAAG,qBAAqB,EACpCA,EAAS,QAAO,CACjB,CACA,MAAME,EAAU,CACZ,aAAc,GAClB"}